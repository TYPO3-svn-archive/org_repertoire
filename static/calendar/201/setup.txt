

  ////////////////////////////////////////
  //
  // INDEX

  // plugin.tx_browser_pi1
  //    views
  //      201: +Org-Repertoire: Calendar



  ////////////////////////////////////////
  //
  // plugin.tx_browser_pi1

plugin.tx_browser_pi1 {
  
  views {
    list {
      201 = +Org-Repertoire: Calendar
      201 {
        name    = +Org-Repertoire: Calendar
/*        select (
          tx_org_cal.title,
          tx_org_cal.subtitle,
          tx_org_cal.short,
          tx_org_cal.bodytext,
          tx_org_cal.datetime,
          tx_org_cal.type,
          tx_org_cal.calpage,
          tx_org_cal.calurl,
          tx_org_caltype.title,
          tx_org_event.title,
          tx_org_event.subtitle,
          tx_org_event.short,
          tx_org_event.bodytext,
          tx_org_repertoire.title,
          tx_org_repertoire.subtitle,
          tx_org_repertoire.producer,
          tx_org_repertoire.teaser_short,
          tx_org_repertoire.bodytext
        )
*/
        select := addToList(
          tx_org_repertoire.title,
          tx_org_repertoire.subtitle,
          tx_org_repertoire.producer,
          tx_org_repertoire.teaser_short,
          tx_org_repertoire.bodytext,
          tx_org_repertoire.image,
          tx_org_repertoire.imagecaption,
          tx_org_repertoire.imageseo,
          tx_org_repertoire.imagewidth,
          tx_org_repertoire.imageheight,
          tx_org_repertoire.imageorient,
          tx_org_repertoire.imagecols,
          tx_org_repertoire.imageborder,
          tx_org_repertoire.image_frames,
          tx_org_repertoire.image_link,
          tx_org_repertoire.image_zoom,
          tx_org_repertoire.image_noRows,
          tx_org_repertoire.image_effects,
          tx_org_repertoire.image_compression,
)
        tx_org_cal {
          short {
            10 {
              tx_org_repertoire = COA
              tx_org_repertoire {
                required    = 1
                wrap        = <div class="cal_short cal_short_repertoire">|</div>
                10 = TEXT
                10 {
                  required    = ###TX_ORG_CALTYPE.TITLE###
                  value       = ###TX_ORG_CALTYPE.TITLE###
                  noTrimWrap  = |<strong>|</strong> |
                }
                20 = TEXT
                20 {
                  required    = 1
                  if.isTrue   = ###TX_ORG_REPERTOIRE.TEASER_SHORT###
                  value       = ###TX_ORG_REPERTOIRE.TEASER_SHORT###
                  stripHtml   = 1
                  crop        = 200 | &nbsp;... | 1
                }
                21 = TEXT
                21 {
                  required    = 1
                  if.isFalse  = ###TX_ORG_REPERTOIRE.TEASER_SHORT###
                  value       = ###TX_ORG_REPERTOIRE.BODYTEXT###
                  stripHtml   = 1
                  crop        = 200 | &nbsp;... | 1
                }
                30 = TEXT
                30 {
                  value   = more &raquo;
                  lang.de = mehr &raquo;
                  typolink {
                    parameter         = {$plugin.org.pages.calendar} - linktosingle
                    additionalParams  = &tx_browser_pi1[calendarUid]=###TX_ORG_CAL.UID###&###CHASH###
                  }
                  noTrimWrap = | ||
                }
              }
            }
          }
          subtitle {
            10 {
              tx_org_repertoire = TEXT
              tx_org_repertoire {
                required  = 1
                stripHtml = 1
                crop        = 200 | &nbsp;... | 1
                value     = ###TX_ORG_REPERTOIRE.SUBTITLE###
                wrap      = <div class="cal_subtitle cal_subtitle_repertoire">|</div>
              }
            }
          }
          title {
            10 {
              tx_org_repertoire = COA
              tx_org_repertoire {
                10 = TEXT
                10 {
                  value = ###TX_ORG_REPERTOIRE.TITLE###
                  typolink {
                    parameter         = {$plugin.org.pages.calendar} - linktosingle
                    additionalParams  = &tx_browser_pi1[calendarUid]=###TX_ORG_CAL.UID###&###CHASH###
                  }
                }
                20 = TEXT
                20 {
                  if.isTrue   = ###TX_ORG_REPERTOIRE.PRODUCER###
                  value       = by ###TX_ORG_REPERTOIRE.PRODUCER###
                  lang.de     = von ###TX_ORG_REPERTOIRE.PRODUCER###
                  noTrimWrap  = | <span class="repertoire_producer">|</span>|
                }
              }
            }
          }
        }
      }
    }
    single {
      201 = +Org-Repertoire: Calendar
      201 {
        select >
        select (
          tx_org_cal.datetime,
          tx_org_cal.uid,
          tx_org_caltype.title,
          tx_org_calentrance.title,
          tx_org_calentrance.value,
          tx_org_calentrance.uid,
          tx_org_repertoire.uid,
          tx_org_repertoire.title,
          tx_org_repertoire.subtitle,
          tx_org_repertoire.bodytext,
          tx_org_repertoire.staff,
          tx_org_repertoire.producer,

          tx_org_repertoire.image,
          tx_org_repertoire.imagecaption,
          tx_org_repertoire.imageseo,
          tx_org_repertoire.imagewidth,
          tx_org_repertoire.imageheight,
          tx_org_repertoire.imageorient,
          tx_org_repertoire.imagecols,
          tx_org_repertoire.imageborder,
          tx_org_repertoire.image_frames,
          tx_org_repertoire.image_link,
          tx_org_repertoire.image_zoom,
          tx_org_repertoire.image_noRows,
          tx_org_repertoire.image_effects,
          tx_org_repertoire.image_compression,

          tx_org_repertoire.description,
          tx_org_repertoire.keywords,
          tx_org_location.uid,
          tx_org_location.title
        )
        tx_org_cal {
          bodytext {
            11 {
              tx_org_repertoire = TEXT
              tx_org_repertoire {
                required    = 1
                if.isTrue   = ###TX_ORG_REPERTOIRE.BODYTEXT###
                value       = ###TX_ORG_REPERTOIRE.BODYTEXT###
                stripHtml   = 1
                wrap        = <div class="cal_bodytext">|</div>
              }
            }
          }
          image {
            10 {
              tx_org_repertoire < .default
              tx_org_repertoire {
                imgList         = ###TX_ORG_REPERTOIRE.IMAGE###
                1.altText       = ###TX_ORG_REPERTOIRE.IMAGESEO###
                1.titleText     = ###TX_ORG_REPERTOIRE.IMAGESEO###
                caption.1.value = ###TX_ORG_REPERTOIRE.IMAGECAPTION###
              }
            }
          }
          short {
            10 {
              tx_org_repertoire = TEXT
              tx_org_repertoire {
                required    = 1
                if.isTrue   = ###TX_ORG_REPERTOIRE.TEASER_SHORT###
                value       = ###TX_ORG_REPERTOIRE.TEASER_SHORT###
                stripHtml   = 1
                wrap        = <div class="cal_short">|</div>
              }
            }
          }
          subtitle {
            10 {
              tx_org_repertoire = TEXT
              tx_org_repertoire {
                required  = 1
                value     = ###TX_ORG_REPERTOIRE.SUBTITLE###
                wrap      = <h2 class="subtitle">|</h2>
              }
            }
          }
          title {
            10 {
              tx_org_repertoire = COA
              tx_org_repertoire {
                10 = TEXT
                10 {
                  value = ###TX_ORG_REPERTOIRE.TITLE###
                  wrap  = <h1 class="repertoire_title">|</h1>
                }
                20 = TEXT
                20 {
                  if.isTrue   = ###TX_ORG_REPERTOIRE.PRODUCER###
                  value       = by ###TX_ORG_REPERTOIRE.PRODUCER###
                  lang.de     = von ###TX_ORG_REPERTOIRE.PRODUCER###
                  wrap        = <h2 class="repertoire_producer">|</h2>
                }
              }
            }
          }
        }
      }
    }
  }
}
  // plugin.tx_browser_pi1